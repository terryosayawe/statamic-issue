{{ nocache }}
<form action="{{ route:statamic.oreos.save }}" method="post">
    <input type="hidden" name="_token" value="{{ csrf_token }}">

    <div class="flex flex-col gap-2 my-8">
        {{ oreos }}
        <div>
            <label class="flex items-baseline">
                <input type="checkbox" name="oreos[]" value="{{ handle }}" {{ checked ? 'checked' : '' }} {{ required ? 'required disabled' : '' }} class="mr-2 {{ required ? ' opacity-40' : '' }}">
                <div>
                    <p class="font-semibold">{{ title }}</p>

                    {{ if showDescription && description }}
                        <p class="text-sm text-gray-600">{{ description }}</p>
                    {{ /if }}
                </div>
            </label>
        </div>
        {{ /oreos }}
    </div>

    <div class="flex gap-2 mt-4">
        <button class="py-1.5 px-2.5 bg-pink-500 text-white border hover:border-current" type="submit" name="action" value="save">
            {{ trans key="statamic-oreos::messages.button.save" }}
        </button>

        {{ if showAcceptall }}
        <button class="py-1.5 px-2.5 border hover:border-current" type="submit" name="action" value="accept-all">
            {{ trans key="statamic-oreos::messages.button.acceptall" }}
        </button>
        {{ /if }}

        {{ if showCancel }}
        <button class="py-1.5 px-2.5 border hover:border-current bg-gray-200" type="reset" onclick="removeOreosPopup()">
            {{ trans key="statamic-oreos::messages.button.cancel" }}
        </button>
        <script>
            function removeOreosPopup() {
                const el = document.getElementById('{{ popupId ?? "oreos-popup" }}');
                if (el) el.parentNode.removeChild(el);
            }
        </script>
        {{ /if }}

        {{ if showReset }}
        <button class="py-1 px-2 border hover:border-current" type="submit" name="action" value="reset">
            {{ trans key="statamic-oreos::messages.button.reset" }}
        </button>
        {{ /if }}

    </div>
</form>
{{ /nocache }}
